<html><head><title>Kernel::System::FAQ</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.28,
  using Pod::Simple::PullParser v3.28,
  under Perl v5.018002 at Wed Feb  4 09:07:56 2015 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#PUBLIC_INTERFACE'>PUBLIC INTERFACE</a>
  <li class='indexItem indexItem1'><a href='#TERMS_AND_CONDITIONS'>TERMS AND CONDITIONS</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Kernel::System::FAQ - FAQ lib</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p>All FAQ functions.
E.
g.
to add FAQs or to get FAQs.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PUBLIC_INTERFACE"
>PUBLIC INTERFACE</a></h1>

<dl>
<dt><a name="new()"
>new()</a></dt>

<dd>
<p>create an object.
Do not use it directly,
instead use:</p>

<pre>    use Kernel::System::ObjectManager;
    local $Kernel::OM = Kernel::System::ObjectManager-&#62;new();
    my $FAQObject = $Kernel::OM-&#62;Get(&#39;Kernel::System::FAQ&#39;);</pre>

<dt><a name="FAQGet()"
>FAQGet()</a></dt>

<dd>
<p>get an FAQ item</p>

<pre>    my %FAQ = $FAQObject-&#62;FAQGet(
        ItemID     =&#62; 123,
        ItemFields =&#62; 0,        # Optional, default 0. To include the item field content for this
                                #   FAQ item on the return structure.
        UserID     =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    %FAQ = (
        ID                =&#62; 32,
        ItemID            =&#62; 32,
        FAQID             =&#62; 32,
        Number            =&#62; 100032,
        CategoryID        =&#62; &#39;2&#39;,
        CategoryName&#39;     =&#62; &#39;CategoryA::CategoryB&#39;,
        CategoryShortName =&#62; &#39;CategoryB&#39;,
        LanguageID        =&#62; 1,
        Language          =&#62; &#39;en&#39;,
        Title             =&#62; &#39;Article Title&#39;,
        Approved          =&#62; 1,                              # or 0
        ValidID           =&#62; 1,
        Valid             =&#62; &#39;valid&#39;,
        Keywords          =&#62; &#39;KeyWord1 KeyWord2&#39;,
        Votes             =&#62; 0,                              # number of votes
        VoteResult        =&#62; &#39;0.00&#39;,                         # a number between 0.00 and 100.00
        StateID           =&#62; 1,
        State             =&#62; &#39;internal (agent)&#39;,             # or &#39;external (customer)&#39; or
                                                             # &#39;public (all)&#39;
        StateTypeID       =&#62; 1,
        StateTypeName     =&#62; &#39;internal&#39;,                     # or &#39;external&#39; or &#39;public&#39;
        CreatedBy         =&#62; 1,
        Changed&#39;          =&#62; &#39;2011-01-05 21:53:50&#39;,
        ChangedBy         =&#62; &#39;1&#39;,
        Created           =&#62; &#39;2011-01-05 21:53:50&#39;,
        Name              =&#62; &#39;1294286030-31.1697297104732&#39;,  # FAQ Article name or
                                                             # systemtime + &#39;-&#39; + random number
    );

    my %FAQ = $FAQObject-&#62;FAQGet(
        ItemID     =&#62; 123,
        ItemFields =&#62; 1,
        UserID     =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    %FAQ = (
        ID                =&#62; 32,
        ItemID            =&#62; 32,
        FAQID             =&#62; 32,
        Number            =&#62; 100032,
        CategoryID        =&#62; &#39;2&#39;,
        CategoryName&#39;     =&#62; &#39;CategoryA::CategoryB&#39;,
        CategoryShortName =&#62; &#39;CategoryB&#39;,
        LanguageID        =&#62; 1,
        Language          =&#62; &#39;en&#39;,
        Title             =&#62; &#39;Article Title&#39;,
        Field1            =&#62; &#39;The Symptoms&#39;,
        Field2            =&#62; &#39;The Problem&#39;,
        Field3            =&#62; &#39;The Solution&#39;,
        Field4            =&#62; undef,                          # Not active by default
        Field5            =&#62; undef,                          # Not active by default
        Field6            =&#62; &#39;Comments&#39;,
        Approved          =&#62; 1,                              # or 0
        ValidID           =&#62; 1,
        Valid             =&#62; &#39;valid&#39;,
        Keywords          =&#62; &#39;KeyWord1 KeyWord2&#39;,
        Votes             =&#62; 0,                              # number of votes
        VoteResult        =&#62; &#39;0.00&#39;,                         # a number between 0.00 and 100.00
        StateID           =&#62; 1,
        State             =&#62; &#39;internal (agent)&#39;,             # or &#39;external (customer)&#39; or
                                                             # &#39;public (all)&#39;
        StateTypeID       =&#62; 1,
        StateTypeName     =&#62; &#39;internal&#39;,                     # or &#39;external&#39; or &#39;public&#39;
        CreatedBy         =&#62; 1,
        Changed&#39;          =&#62; &#39;2011-01-05 21:53:50&#39;,
        ChangedBy         =&#62; &#39;1&#39;,
        Created           =&#62; &#39;2011-01-05 21:53:50&#39;,
        Name              =&#62; &#39;1294286030-31.1697297104732&#39;,  # FAQ Article name or
                                                             # systemtime + &#39;-&#39; + random number
    );</pre>

<dt><a name="FAQAdd()"
>FAQAdd()</a></dt>

<dd>
<p>add an article</p>

<pre>    my $ItemID = $FAQObject-&#62;FAQAdd(
        Title      =&#62; &#39;Some Text&#39;,
        CategoryID =&#62; 1,
        StateID    =&#62; 1,
        LanguageID =&#62; 1,
        Number     =&#62; &#39;13402&#39;,          # (optional)
        Keywords   =&#62; &#39;some keywords&#39;,  # (optional)
        Field1     =&#62; &#39;Symptom...&#39;,     # (optional)
        Field2     =&#62; &#39;Problem...&#39;,     # (optional)
        Field3     =&#62; &#39;Solution...&#39;,    # (optional)
        Field4     =&#62; &#39;Field4...&#39;,      # (optional)
        Field5     =&#62; &#39;Field5...&#39;,      # (optional)
        Field6     =&#62; &#39;Comment...&#39;,     # (optional)
        Approved   =&#62; 1,                # (optional)
        ValidID    =&#62; 1,
        UserID     =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    $ItemID = 34;</pre>

<dt><a name="FAQUpdate()"
>FAQUpdate()</a></dt>

<dd>
<p>update an article</p>

<pre>   my $Success = $FAQObject-&#62;FAQUpdate(
        ItemID      =&#62; 123,
        CategoryID  =&#62; 1,
        StateID     =&#62; 1,
        LanguageID  =&#62; 1,
        Approved    =&#62; 1,
        ValidID     =&#62; 1,
        Title       =&#62; &#39;Some Text&#39;,
        Field1      =&#62; &#39;Problem...&#39;,
        Field2      =&#62; &#39;Solution...&#39;,
        UserID      =&#62; 1,
        ApprovalOff =&#62; 1, (optional, if set to 1 approval is ignored. This is important when called from FAQInlineAttachmentURLUpdate)
    );</pre>

<p>Returns:</p>

<pre>    $Success = 1 ;          # or undef if can&#39;t update the FAQ article</pre>

<dt><a name="AttachmentAdd()"
>AttachmentAdd()</a></dt>

<dd>
<p>add article attachments, returns the attachment id</p>

<pre>    my $AttachmentID = $FAQObject-&#62;AttachmentAdd(
        ItemID      =&#62; 123,
        Content     =&#62; $Content,
        ContentType =&#62; &#39;text/xml&#39;,
        Filename    =&#62; &#39;somename.xml&#39;,
        Inline      =&#62; 1,   (0|1, default 0)
        UserID      =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    $AttachmentID = 123 ;               # or undef if can&#39;t add the attachment</pre>

<dt><a name="AttachmentGet()"
>AttachmentGet()</a></dt>

<dd>
<p>get attachment of article</p>

<pre>    my %File = $FAQObject-&#62;AttachmentGet(
        ItemID =&#62; 123,
        FileID =&#62; 1,
        UserID =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    %File = (
        Filesize    =&#62; &#39;540286&#39;,                # file size in bytes
        ContentType =&#62; &#39;image/jpeg&#39;,
        Filename    =&#62; &#39;Error.jpg&#39;,
        Content     =&#62; &#39;...&#39;                    # file binary content
    );</pre>

<dt><a name="AttachmentDelete()"
>AttachmentDelete()</a></dt>

<dd>
<p>delete attachment of article</p>

<pre>    my $Success = $FAQObject-&#62;AttachmentDelete(
        ItemID =&#62; 123,
        FileID =&#62; 1,
        UserID =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    $Success = 1 ;              # or undef if attachment could not be deleted</pre>

<dt><a name="AttachmentIndex()"
>AttachmentIndex()</a></dt>

<dd>
<p>return an attachment index of an article</p>

<pre>    my @Index = $FAQObject-&#62;AttachmentIndex(
        ItemID     =&#62; 123,
        ShowInline =&#62; 0,   ( 0|1, default 1)
        UserID     =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    @Index = (
        {
            Filesize    =&#62; &#39;527.6 KBytes&#39;,
            ContentType =&#62; &#39;image/jpeg&#39;,
            Filename    =&#62; &#39;Error.jpg&#39;,
            FilesizeRaw =&#62; 540286,
            FileID      =&#62; 6,
            Inline      =&#62; 0,
        },
        {,
            Filesize =&#62; &#39;430.0 KBytes&#39;,
            ContentType =&#62; &#39;image/jpeg&#39;,
            Filename =&#62; &#39;Solution.jpg&#39;,
            FilesizeRaw =&#62; 440286,
            FileID =&#62; 5,
            Inline =&#62; 1,
        },
        {
            Filesize =&#62; &#39;296 Bytes&#39;,
            ContentType =&#62; &#39;text/plain&#39;,
            Filename =&#62; &#39;AdditionalComments.txt&#39;,
            FilesizeRaw =&#62; 296,
            FileID =&#62; 7,
            Inline =&#62; 0,
        },
    );</pre>

<dt><a name="FAQCount()"
>FAQCount()</a></dt>

<dd>
<p>Count the number of articles for a defined category. Only valid FAQ articles will be counted.</p>

<pre>    my $ArticleCount = $FAQObject-&#62;FAQCount(
        CategoryIDs  =&#62; [1,2,3,4],
        OnlyApproved =&#62; 1,   # optional (default 0)
        UserID       =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    $ArticleCount = 3;</pre>

<dt><a name="FAQDelete()"
>FAQDelete()</a></dt>

<dd>
<p>Delete an article.</p>

<pre>    my $DeleteSuccess = $FAQObject-&#62;FAQDelete(
        ItemID =&#62; 1,
        UserID =&#62; 123,
    );</pre>

<p>Returns:</p>

<pre>    $DeleteSuccess = 1;              # or undef if article could not be deleted</pre>

<dt><a name="FAQHistoryAdd()"
>FAQHistoryAdd()</a></dt>

<dd>
<p>add an history to an article</p>

<pre>    my $AddSuccess = $FAQObject-&#62;FAQHistoryAdd(
        ItemID =&#62; 1,
        Name   =&#62; &#39;Updated Article.&#39;,
        UserID =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    $AddSuccess = 1;               # or undef if article history could not be added</pre>

<dt><a name="FAQHistoryGet()"
>FAQHistoryGet()</a></dt>

<dd>
<p>get an array with hash reference with the history of an article</p>

<pre>    my $HistoryDataArrayRef = $FAQObject-&#62;FAQHistoryGet(
        ItemID =&#62; 1,
        UserID =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    $HistoryDataArrayRef = [
        {
            CreatedBy =&#62; 1,
            Created   =&#62; &#39;2010-11-02 07:45:15&#39;,
            Name      =&#62; &#39;Created&#39;,
        },
        {
            CreatedBy =&#62; 1,
            Created   =&#62; &#39;2011-06-14 12:53:55&#39;,
            Name      =&#62; &#39;Updated&#39;,
        },
    ];</pre>

<dt><a name="FAQHistoryDelete()"
>FAQHistoryDelete()</a></dt>

<dd>
<p>delete the history of an article</p>

<pre>    my $DeleteSuccess = $FAQObject-&#62;FAQHistoryDelete(
        ItemID =&#62; 1,
        UserID =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    $DeleteDuccess = 1;                # or undef if history could not be deleted</pre>

<dt><a name="HistoryGet()"
>HistoryGet()</a></dt>

<dd>
<p>get the system history</p>

<pre>    my $HistoryDataArrayRef = $FAQObject-&#62;HistoryGet(
        UserID =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    $HistoryDataArrayRef = [
        {
            ItemID    =&#62; &#39;32&#39;,
            Number    =&#62; &#39;10004&#39;,
            Category  =&#62; &#39;My Category&#39;,
            Subject   =&#62; &#39;New Article&#39;,
            Action    =&#62; &#39;Created&#39;,
            CreatedBy =&#62; &#39;1&#39;,
            Created   =&#62; &#39;2011-01-05 21:53:50&#39;,
        },
        {
            ItemID    =&#62; &#39;4&#39;,
            Number    =&#62; &#39;10004&#39;,
            Category  =&#62; &#39;My Category&#39;,
            Subject   =&#62; &#34;New Article&#34;,
            Action    =&#62; &#39;Updated&#39;,
            CreatedBy =&#62; &#39;1&#39;,
            Created   =&#62; &#39;2011-01-05 21:55:32&#39;,
        }
    ];</pre>

<dt><a name="KeywordList()"
>KeywordList()</a></dt>

<dd>
<p>get a list of keywords as a hash, with their count as the value:</p>

<pre>    my %Keywords = $FAQObject-&#62;KeywordList(
        Valid  =&#62; 1,
        UserID =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    %Keywords = (
          &#39;macosx&#39;   =&#62; 8,
          &#39;ubuntu&#39;   =&#62; 1,
          &#39;outlook&#39;  =&#62; 2,
          &#39;windows&#39;  =&#62; 3,
          &#39;exchange&#39; =&#62; 1,
    );</pre>

<dt><a name="FAQPathListGet()"
>FAQPathListGet()</a></dt>

<dd>
<p>returns a category array reference</p>

<pre>    my $CategoryIDArrayRef = $FAQObject-&#62;FAQPathListGet(
        CategoryID =&#62; 150,
        UserID     =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    $CategoryIDArrayRef = [
        {
            CategoryID =&#62; &#39;2&#39;,
            ParentID =&#62; &#39;0&#39;,
            Name =&#62; &#39;My Category&#39;,
            Comment =&#62; &#39;My First Category&#39;,
            ValidID =&#62; &#39;1&#39;,
        },
        {
            CategoryID =&#62; &#39;4&#39;,
            ParentID =&#62; &#39;2&#39;,
            Name =&#62; &#39;Sub Category A&#39;,
            Comment =&#62; &#39;This Is Category A&#39;,
            ValidID =&#62; &#39;1&#39;,
        },
    ];</pre>

<dt><a name="FAQLogAdd()"
>FAQLogAdd()</a></dt>

<dd>
<p>adds accessed FAQ article to the access log table</p>

<pre>    my $Success = $FAQObject-&#62;FAQLogAdd(
        ItemID    =&#62; &#39;123456&#39;,
        Interface =&#62; &#39;internal&#39;,
        UserID    =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    $Success =1;                # or undef if FAQLog could not be added</pre>

<dt><a name="FAQTop10Get()"
>FAQTop10Get()</a></dt>

<dd>
<p>Returns an array with the top 10 FAQ article ids.</p>

<pre>    my $Top10IDsRef = $FAQObject-&#62;FAQTop10Get(
        Interface   =&#62; &#39;public&#39;,
        CategoryIDs =&#62; [ 1, 2, 3 ],  # (optional) Only show the Top-10 articles from these categories
        Limit       =&#62; 10,           # (optional, default 10)
        UserID      =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    $Top10IDsRef = [
        {
            &#39;ItemID&#39;    =&#62; 13,
            &#39;Count&#39;     =&#62; 159,               # number of visits
            &#39;Interface&#39; =&#62; &#39;public&#39;,
        },
        {
            &#39;ItemID&#39;    =&#62; 6,
            &#39;Count&#39;     =&#62; 78,
            &#39;Interface&#39; =&#62; &#39;public&#39;,
        },
        {
            &#39;ItemID&#39;    =&#62; 4,
            &#39;Count&#39;     =&#62; 59,
            &#39;Interface&#39; =&#62; &#39;internal&#39;,
        },
        {
            &#39;ItemID&#39;    =&#62; 20,
            &#39;Count&#39;     =&#62; 29,
            &#39;Interface&#39; =&#62; &#39;public&#39;,
        },
        {
            &#39;ItemID&#39;    =&#62; 1,
            &#39;Count&#39;     =&#62; 24,
            &#39;Interface&#39; =&#62; &#39;external&#39;,
        },
        {
            &#39;ItemID&#39;    =&#62; 11,
            &#39;Count&#39;     =&#62; 24,
            &#39;Interface&#39; =&#62; &#39;internal&#39;,
        },
        {
            &#39;ItemID&#39;    =&#62; 5,
            &#39;Count&#39;     =&#62; 18,
            &#39;Interface&#39; =&#62; &#39;internal&#39;,
        },
        {
            &#39;ItemID&#39;    =&#62; 9,
            &#39;Count&#39;     =&#62; 16,
            &#39;Interface&#39; =&#62; &#39;external&#39;,
        },
        {
            &#39;ItemID&#39;    =&#62; 2,
            &#39;Count&#39;     =&#62; 14,
            &#39;Interface&#39; =&#62; &#39;internal&#39;
        },
        {
            &#39;ItemID&#39;    =&#62; 14,
            &#39;Count&#39;     =&#62; 6,
            &#39;Interface&#39; =&#62; &#39;public&#39;,
        }
    ];</pre>

<dt><a name="FAQInlineAttachmentURLUpdate()"
>FAQInlineAttachmentURLUpdate()</a></dt>

<dd>
<p>Updates the URLs of uploaded inline attachments.</p>

<pre>    my $Success = $FAQObject-&#62;FAQInlineAttachmentURLUpdate(
        ItemID     =&#62; 12,
        FormID     =&#62; 456,
        FileID     =&#62; 5,
        Attachment =&#62; \%Attachment,
        UserID     =&#62; 1,
    );</pre>

<p>Returns:</p>

<pre>    $Success = 1;               # of undef if attachment URL could not be updated</pre>

<dt><a name="FAQArticleTitleClean()"
>FAQArticleTitleClean()</a></dt>

<dd>
<p>strip/clean up a FAQ article title</p>

<pre>    my $NewTitle = $FAQObject-&#62;FAQArticleTitleClean(
        Title      =&#62; $OldTitle,
        Size       =&#62; $TitleSizeToBeDisplayed   # optional, if 0 do not cut title
    );</pre>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="TERMS_AND_CONDITIONS"
>TERMS AND CONDITIONS</a></h1>

<p>This software is part of the OTRS project (http://otrs.org/).</p>

<p>This software comes with ABSOLUTELY NO WARRANTY. For details, see the enclosed file COPYING for license information (AGPL). If you did not receive this file, see <a href="http://www.gnu.org/licenses/agpl.txt" class="podlinkurl"
>http://www.gnu.org/licenses/agpl.txt</a>.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
