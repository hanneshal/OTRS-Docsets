<html><head><title>Kernel::System::CommunicationLog</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.28,
  using Pod::Simple::PullParser v3.28,
  under Perl v5.018004 at Tue Feb 16 20:51:23 2021 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#PUBLIC_INTERFACE'>PUBLIC INTERFACE</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new()'>new()</a>
    <li class='indexItem indexItem2'><a href='#CommunicationStop()'>CommunicationStop()</a>
    <li class='indexItem indexItem2'><a href='#CommunicationIDGet()'>CommunicationIDGet()</a>
    <li class='indexItem indexItem2'><a href='#TransportGet()'>TransportGet()</a>
    <li class='indexItem indexItem2'><a href='#DirectionGet()'>DirectionGet()</a>
    <li class='indexItem indexItem2'><a href='#StatusGet()'>StatusGet()</a>
    <li class='indexItem indexItem2'><a href='#ObjectLogStart()'>ObjectLogStart()</a>
    <li class='indexItem indexItem2'><a href='#ObjectLogStop()'>ObjectLogStop()</a>
    <li class='indexItem indexItem2'><a href='#ObjectLog()'>ObjectLog()</a>
    <li class='indexItem indexItem2'><a href='#ObjectLookupSet()'>ObjectLookupSet()</a>
    <li class='indexItem indexItem2'><a href='#ObjectLookupGet()'>ObjectLookupGet()</a>
    <li class='indexItem indexItem2'><a href='#IsObjectLogOpen()'>IsObjectLogOpen()</a>
    <li class='indexItem indexItem2'><a href='#PRIVATE_INTERFACE'>PRIVATE INTERFACE</a>
    <li class='indexItem indexItem2'><a href='#_CommunicationStart()'>_CommunicationStart()</a>
    <li class='indexItem indexItem2'><a href='#_RecoverCommunciationObject()'>_RecoverCommunciationObject()</a>
    <li class='indexItem indexItem2'><a href='#_LogError()'>_LogError()</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#TERMS_AND_CONDITIONS'>TERMS AND CONDITIONS</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PUBLIC_INTERFACE"
><a name='//apple_ref/cpp/Class/PUBLIC INTERFACE' class='dashAnchor'></a>PUBLIC INTERFACE</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new()"
><a name='//apple_ref/cpp/Function/new()' class='dashAnchor'></a>new()</a></h2>

<p>Creates a CommunicationLog object.
Do not use new() directly,
instead use the object manager.
This is a class which represents a complete communication.
Therefore the created instances must not be shared between processes of different communications.</p>

<p>Please use the object manager as follows for this class:</p>

<pre>    # Create an object, representing a new communication:
    my $CommunicationLogObject = $Kernel::OM-&#62;Create(
        &#39;Kernel::System::CommunicationLog&#39;,
        ObjectParams =&#62; {
            Transport =&#62; &#39;Email&#39;,
            Direction =&#62; &#39;Incoming&#39;,
        }
    );

    # Create an object for an already existing communication:
    my $CommunicationLogObject = $Kernel::OM-&#62;Create(
        &#39;Kernel::System::CommunicationLog&#39;,
        ObjectParams =&#62; {
            CommunicationID =&#62; 123,
        }
    );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="CommunicationStop()"
><a name='//apple_ref/cpp/Function/CommunicationStop()' class='dashAnchor'></a>CommunicationStop()</a></h2>

<p>Update the status of a communication entry.</p>

<pre>    my $Success = $CommunicationLogObject-&#62;CommunicationStop(
        Status =&#62; &#39;Successful&#39;, # (required) Needs to be either &#39;Successful&#39;, &#39;Warning&#39; or &#39;Failed&#39;
    );</pre>

<p>Returns:</p>

<pre>    1 in case of success, 0 in case of errors</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="CommunicationIDGet()"
><a name='//apple_ref/cpp/Function/CommunicationIDGet()' class='dashAnchor'></a>CommunicationIDGet()</a></h2>

<p>Returns the communication id.</p>

<pre>    my $CommunicationID = $CommunicationLogObject-&#62;CommunicationIDGet();</pre>

<p>Returns:</p>

<pre>    The communication id of the current communication represented by this object.</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="TransportGet()"
><a name='//apple_ref/cpp/Function/TransportGet()' class='dashAnchor'></a>TransportGet()</a></h2>

<p>Returns the used transport.</p>

<pre>    my $Transport = $CommunicationLogObject-&#62;TransportGet();</pre>

<p>Returns:</p>

<pre>    The transport of the current communication represented by this object.</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="DirectionGet()"
><a name='//apple_ref/cpp/Function/DirectionGet()' class='dashAnchor'></a>DirectionGet()</a></h2>

<p>Returns the used direction.</p>

<pre>    my $Direction = $CommunicationLogObject-&#62;DirectionGet();</pre>

<p>Returns:</p>

<pre>    The direction of the current communication represented by this object.</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="StatusGet()"
><a name='//apple_ref/cpp/Function/StatusGet()' class='dashAnchor'></a>StatusGet()</a></h2>

<p>Returns the current Status.</p>

<pre>    my $Direction = $CommunicationLogObject-&#62;StatusGet();</pre>

<p>Returns:</p>

<pre>    The status of the current communication represented by this object.</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ObjectLogStart()"
><a name='//apple_ref/cpp/Function/ObjectLogStart()' class='dashAnchor'></a>ObjectLogStart()</a></h2>

<p>Starts a log object of a given object type.</p>

<pre>    my $ObjectID = $CommunicationLogObject-&#62;ObjectLogStart(
        ObjectType =&#62; &#39;Connection&#39; # (required) Can be &#39;Connection&#39; or &#39;Message&#39;
    );</pre>

<p>Returns:</p>

<pre>    1 in case of success, 0 in case of errors</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ObjectLogStop()"
><a name='//apple_ref/cpp/Function/ObjectLogStop()' class='dashAnchor'></a>ObjectLogStop()</a></h2>

<p>Stops a log object of a given object type.</p>

<pre>    my $Success = $CommunicationLogObject-&#62;ObjectLogStop(
        ObjectLogType =&#62; &#39;Connection&#39;                        # (required) Can be &#39;Connection&#39; or &#39;Message&#39;
        ObjectLogID   =&#62; 123, # (required) The ObjectID of the started object type
    );</pre>

<p>Returns:</p>

<pre>    1 in case of success, 0 in case of errors</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ObjectLog()"
><a name='//apple_ref/cpp/Function/ObjectLog()' class='dashAnchor'></a>ObjectLog()</a></h2>

<p>Adds a log entry for a certain log object.</p>

<pre>    my $Success = $CommunicationLogObject-&#62;ObjectLog(
        ObjectLogType =&#62; &#39;...&#39; # (required) To be defined by the related LogObject
        ObjectLogID   =&#62; 123, # (required) The ObjectID of the started object type
    );</pre>

<p>Returns:</p>

<pre>    1 in case of success, 0 in case of errors</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ObjectLookupSet()"
><a name='//apple_ref/cpp/Function/ObjectLookupSet()' class='dashAnchor'></a>ObjectLookupSet()</a></h2>

<p>Inserts or updates a lookup information.</p>

<pre>    my $Result = $CommunicationLogObject-&#62;ObjectLookupSet(
        ObjectID         =&#62; 123,       # (required)
        TargetObjectType =&#62; &#39;Article&#39;, # (required)
        TargetObjectID   =&#62; 123,       # (required)
    );</pre>

<p>Returns:</p>

<pre>    &#60;undef&#62; - if any error occur
          1 - in case of success</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ObjectLookupGet()"
><a name='//apple_ref/cpp/Function/ObjectLookupGet()' class='dashAnchor'></a>ObjectLookupGet()</a></h2>

<p>Gets the object lookup information.</p>

<pre>    my $Result = $CommunicationLogObject-&#62;ObjectLookupGet(
        TargetObjectID   =&#62; &#39;...&#39;,
        TargetObjectType =&#62; &#39;...&#39;,
    );</pre>

<p>Returns:</p>

<pre>    &#60;undef&#62; - if any error occur
    An hashref with object lookup information - in case info exists
    An empty hasref                           - in case info doesn&#39;t exists</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="IsObjectLogOpen()"
><a name='//apple_ref/cpp/Function/IsObjectLogOpen()' class='dashAnchor'></a>IsObjectLogOpen()</a></h2>

<p>Checks if a given ObjectLogType has an open Object or not.</p>

<pre>    my $Result = $CommunicationLogObject-&#62;IsObjectLogOpen(
        ObjectLogType =&#62; &#39;...&#39;,     # Required
    );</pre>

<p>Returns:</p>

<pre>    The ObjectLogID or undef.</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="PRIVATE_INTERFACE"
><a name='//apple_ref/cpp/Function/PRIVATE INTERFACE' class='dashAnchor'></a>PRIVATE INTERFACE</a></h2>

<p>Private methods</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_CommunicationStart()"
><a name='//apple_ref/cpp/Function/_CommunicationStart()' class='dashAnchor'></a>_CommunicationStart()</a></h2>

<p>Create a new communication entry.</p>

<pre>    my $Success = $CommunicationLogObject-&#62;CommunicationStart(
        Status =&#62; &#39;Processing&#39;, # (optional) Needs to be either &#39;Successful&#39;, &#39;Processing&#39;, &#39;Warning&#39; or &#39;Failed&#39;
                                # In most of the cases, just &#39;Processing&#39; will make sense at the very beginning
                                # of a communication (Default: &#39;Processing&#39;).
        AccountType =&#62;          # (optional) The used account type
        AccountID   =&#62;          # (optional) The used account id
    );</pre>

<p>Returns:</p>

<pre>    1 in case of success, 0 in case of errors</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_RecoverCommunciationObject()"
><a name='//apple_ref/cpp/Function/_RecoverCommunciationObject()' class='dashAnchor'></a>_RecoverCommunciationObject()</a></h2>

<p>Recover a Communication object given an CommunicationID or ObjectLogID.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_LogError()"
><a name='//apple_ref/cpp/Function/_LogError()' class='dashAnchor'></a>_LogError()</a></h2>

<p>Helper Method for logging.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="TERMS_AND_CONDITIONS"
><a name='//apple_ref/cpp/Class/TERMS AND CONDITIONS' class='dashAnchor'></a>TERMS AND CONDITIONS</a></h1>

<p>This software is part of the OTRS project (<a href="https://otrs.org/" class="podlinkurl"
>https://otrs.org/</a>).</p>

<p>This software comes with ABSOLUTELY NO WARRANTY. For details, see the enclosed file COPYING for license information (GPL). If you did not receive this file, see <a href="https://www.gnu.org/licenses/gpl-3.0.txt" class="podlinkurl"
>https://www.gnu.org/licenses/gpl-3.0.txt</a>.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
