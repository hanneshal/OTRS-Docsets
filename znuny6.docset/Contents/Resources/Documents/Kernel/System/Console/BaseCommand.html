<html><head><title>Kernel::System::Console::BaseCommand</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.28,
  using Pod::Simple::PullParser v3.28,
  under Perl v5.018004 at Tue Feb 16 20:51:23 2021 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#PUBLIC_INTERFACE'>PUBLIC INTERFACE</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new()'>new()</a>
    <li class='indexItem indexItem2'><a href='#Configure()'>Configure()</a>
    <li class='indexItem indexItem2'><a href='#Name()'>Name()</a>
    <li class='indexItem indexItem2'><a href='#Description()'>Description()</a>
    <li class='indexItem indexItem2'><a href='#AdditionalHelp()'>AdditionalHelp()</a>
    <li class='indexItem indexItem2'><a href='#AddArgument()'>AddArgument()</a>
    <li class='indexItem indexItem2'><a href='#GetArgument()'>GetArgument()</a>
    <li class='indexItem indexItem2'><a href='#AddOption()'>AddOption()</a>
    <li class='indexItem indexItem2'><a href='#GetOption()'>GetOption()</a>
    <li class='indexItem indexItem2'><a href='#PreRun()'>PreRun()</a>
    <li class='indexItem indexItem2'><a href='#Run()'>Run()</a>
    <li class='indexItem indexItem2'><a href='#PostRun()'>PostRun()</a>
    <li class='indexItem indexItem2'><a href='#Execute()'>Execute()</a>
    <li class='indexItem indexItem2'><a href='#ExitCodeError()'>ExitCodeError()</a>
    <li class='indexItem indexItem2'><a href='#ExitCodeOk()'>ExitCodeOk()</a>
    <li class='indexItem indexItem2'><a href='#GetUsageHelp()'>GetUsageHelp()</a>
    <li class='indexItem indexItem2'><a href='#ANSI()'>ANSI()</a>
    <li class='indexItem indexItem2'><a href='#PrintError()'>PrintError()</a>
    <li class='indexItem indexItem2'><a href='#Print()'>Print()</a>
    <li class='indexItem indexItem2'><a href='#TableOutput()'>TableOutput()</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#TERMS_AND_CONDITIONS'>TERMS AND CONDITIONS</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
><a name='//apple_ref/cpp/Class/NAME' class='dashAnchor'></a>NAME</a></h1>

<p>Kernel::System::Console::BaseCommand - command base class</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
><a name='//apple_ref/cpp/Class/DESCRIPTION' class='dashAnchor'></a>DESCRIPTION</a></h1>

<p>Base class for console commands.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PUBLIC_INTERFACE"
><a name='//apple_ref/cpp/Class/PUBLIC INTERFACE' class='dashAnchor'></a>PUBLIC INTERFACE</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new()"
><a name='//apple_ref/cpp/Function/new()' class='dashAnchor'></a>new()</a></h2>

<p>constructor for new objects.
You should not need to reimplement this in your command,
override <a href="#Configure()" class="podlinkpod"
>&#34;Configure()&#34;</a> instead if you need to.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Configure()"
><a name='//apple_ref/cpp/Function/Configure()' class='dashAnchor'></a>Configure()</a></h2>

<p>initializes this object.
Override this method in your commands.</p>

<p>This method might throw exceptions.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Name()"
><a name='//apple_ref/cpp/Function/Name()' class='dashAnchor'></a>Name()</a></h2>

<p>get the Name of the current Command,
e.
g.
&#39;Admin::User::SetPassword&#39;.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Description()"
><a name='//apple_ref/cpp/Function/Description()' class='dashAnchor'></a>Description()</a></h2>

<p>get/set description for the current command.
Call this in your Configure() method.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="AdditionalHelp()"
><a name='//apple_ref/cpp/Function/AdditionalHelp()' class='dashAnchor'></a>AdditionalHelp()</a></h2>

<p>get/set additional help text for the current command.
Call this in your Configure() method.</p>

<p>You can use color tags (see <a href="#Print()" class="podlinkpod"
>&#34;Print()&#34;</a>) in your help tags.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="AddArgument()"
><a name='//apple_ref/cpp/Function/AddArgument()' class='dashAnchor'></a>AddArgument()</a></h2>

<p>adds an argument that can/must be specified on the command line.
This function must be called during Configure() by the command to indicate which arguments it can process.</p>

<pre>    $CommandObject-&#62;AddArgument(
        Name         =&#62; &#39;filename&#39;,
        Description  =&#62; &#39;name of the file to be loaded&#39;,
        Required     =&#62; 1,
        ValueRegex   =&#62; qr{a-zA-Z0-9]\.txt},
    );</pre>

<p>Please note that required arguments have to be specified before any optional ones.</p>

<p>The information about known arguments and options (see below) will be used to generate usage help and also to automatically verify the data provided by the user on the command line.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="GetArgument()"
><a name='//apple_ref/cpp/Function/GetArgument()' class='dashAnchor'></a>GetArgument()</a></h2>

<p>fetch an argument value as provided by the user on the command line.</p>

<pre>    my $Filename = $CommandObject-&#62;GetArgument(&#39;filename&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="AddOption()"
><a name='//apple_ref/cpp/Function/AddOption()' class='dashAnchor'></a>AddOption()</a></h2>

<p>adds an option that can/must be specified on the command line. This function must be called during <a href="#Configure()" class="podlinkpod"
>&#34;Configure()&#34;</a> by the command to indicate which arguments it can process.</p>

<pre>    $CommandObject-&#62;AddOption(
        Name         =&#62; &#39;iterations&#39;,
        Description  =&#62; &#39;number of script iterations to perform&#39;,
        Required     =&#62; 1,
        HasValue     =&#62; 0,
        ValueRegex   =&#62; qr{\d+},
        Multiple     =&#62; 0,  # optional, allow more than one occurrence (only possible if HasValue is true)
    );</pre>

<p><b>Option Naming Conventions</b></p>

<p>If there is a source and a target involved in the command, the related options should start with <code>--source</code> and <code>--target</code>, for example <code>--source-path</code>.</p>

<p>For specifying filesystem locations, <code>--*-path</code> should be used for directory/filename combinations (e.g. <code>mydirectory/myfile.pl</code>), <code>--*-filename</code> for filenames without directories, and <code>--*-directory</code> for directories.</p>

<p>Example: <code>--target-path /tmp/test.out --source-filename test.txt --source-directory /tmp</code></p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="GetOption()"
><a name='//apple_ref/cpp/Function/GetOption()' class='dashAnchor'></a>GetOption()</a></h2>

<p>fetch an option as provided by the user on the command line.</p>

<pre>    my $Iterations = $CommandObject-&#62;GetOption(&#39;iterations&#39;);</pre>

<p>If the option was specified with HasValue =&#62; 1, the user provided value will be returned. Otherwise 1 will be returned if the option was present.</p>

<p>In case of an option with <code>Multiple =</code> 1&#62;, an array reference will be returned if the option was specified, and undef otherwise.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="PreRun()"
><a name='//apple_ref/cpp/Function/PreRun()' class='dashAnchor'></a>PreRun()</a></h2>

<p>perform additional validations/preparations before Run(). Override this method in your commands.</p>

<p>If this method returns, execution will be continued. If it throws an exception with die(), the program aborts at this point, and Run() will not be called.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Run()"
><a name='//apple_ref/cpp/Function/Run()' class='dashAnchor'></a>Run()</a></h2>

<p>runs the command. Override this method in your commands.</p>

<p>This method needs to return the exit code to be used for the whole program. For this, the convenience methods ExitCodeOk() and ExitCodeError() can be used.</p>

<p>In case of an exception, the error code will be set to 1 (error).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="PostRun()"
><a name='//apple_ref/cpp/Function/PostRun()' class='dashAnchor'></a>PostRun()</a></h2>

<p>perform additional cleanups after Run(). Override this method in your commands.</p>

<p>The return value of this method will be ignored. It will be called after Run(), even if Run() caused an exception or returned an error exit code.</p>

<p>In case of an exception in this method, the exit code will be set to 1 (error) if Run() returned 0 (ok).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Execute()"
><a name='//apple_ref/cpp/Function/Execute()' class='dashAnchor'></a>Execute()</a></h2>

<p>this method will parse/validate the command line arguments supplied by the user. If that was ok, the Run() method of the command will be called.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ExitCodeError()"
><a name='//apple_ref/cpp/Function/ExitCodeError()' class='dashAnchor'></a>ExitCodeError()</a></h2>

<p>returns an exit code to signal something went wrong (mostly for better code readability).</p>

<pre>    return $CommandObject-&#62;ExitCodeError();</pre>

<p>You can also provide a custom error code for special use cases:</p>

<pre>    return $CommandObject-&#62;ExitCodeError(255);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ExitCodeOk()"
><a name='//apple_ref/cpp/Function/ExitCodeOk()' class='dashAnchor'></a>ExitCodeOk()</a></h2>

<p>returns 0 as exit code to indicate everything went fine in the command (mostly for better code readability).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="GetUsageHelp()"
><a name='//apple_ref/cpp/Function/GetUsageHelp()' class='dashAnchor'></a>GetUsageHelp()</a></h2>

<p>generates usage / help screen for this command.</p>

<pre>    my $UsageHelp = $CommandObject-&#62;GetUsageHelp();</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ANSI()"
><a name='//apple_ref/cpp/Function/ANSI()' class='dashAnchor'></a>ANSI()</a></h2>

<p>get/set support for colored text.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="PrintError()"
><a name='//apple_ref/cpp/Function/PrintError()' class='dashAnchor'></a>PrintError()</a></h2>

<p>shorthand method to print an error message to STDERR.</p>

<p>It will be prefixed with &#39;Error: &#39; and colored in red, if the terminal supports it (see <a href="#ANSI()" class="podlinkpod"
>&#34;ANSI()&#34;</a>).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Print()"
><a name='//apple_ref/cpp/Function/Print()' class='dashAnchor'></a>Print()</a></h2>

<p>this method will print the given text to STDOUT.</p>

<p>You can add color tags (<code>&#60;green&#62;...&#60;/green&#62;, &#60;yellow&#62;...&#60;/yellow&#62;, &#60;red&#62;...&#60;/red&#62;</code>) to your text, and they will be replaced with the corresponding terminal escape sequences if the terminal supports it (see <a href="#ANSI()" class="podlinkpod"
>&#34;ANSI()&#34;</a>).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="TableOutput()"
><a name='//apple_ref/cpp/Function/TableOutput()' class='dashAnchor'></a>TableOutput()</a></h2>

<p>this method generates an ascii table of headers and column content</p>

<pre>    my $FormattedOutput = $Command-&#62;TableOutput(
        TableData =&#62; {
            Header =&#62; [
                &#39;First Header&#39;,
                &#39;Second Header&#39;,
                &#39;Third Header&#39;
            ],
            Body =&#62; [
                [ &#39;FirstItem 1&#39;, &#39;SecondItem 1&#39;, &#39;ThirdItem 1&#39; ],
                [ &#39;FirstItem 2&#39;, &#39;SecondItem 2&#39;, &#39;ThirdItem 2&#39; ],
                [ &#39;FirstItem 3&#39;, &#39;SecondItem 3&#39;, &#39;ThirdItem 3&#39; ],
                [ &#39;FirstItem 4&#39;, &#39;SecondItem 4&#39;, &#39;ThirdItem 4&#39; ],
            ],
        },
        Indention =&#62; 2, # Spaces to indent (ltr), default 0;
        EvenOdd   =&#62; &#39;yellow&#39;, # add even and odd line coloring (green|yellow|red)
                               # (overwrites existing coloring), # default 0
    );

    Returns:

    +--------------+---------------+--------------+
    | First Header | Second Header | Third Header |
    +--------------+---------------+--------------+
    | FirstItem 1  | SecondItem 1  | ThirdItem 1  |
    | FirstItem 2  | SecondItem 2  | ThirdItem 1  |
    | FirstItem 3  | SecondItem 3  | ThirdItem 1  |
    | FirstItem 4  | SecondItem 4  | ThirdItem 1  |
    +--------------+---------------+--------------+</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="TERMS_AND_CONDITIONS"
><a name='//apple_ref/cpp/Class/TERMS AND CONDITIONS' class='dashAnchor'></a>TERMS AND CONDITIONS</a></h1>

<p>This software is part of the OTRS project (<a href="https://otrs.org/" class="podlinkurl"
>https://otrs.org/</a>).</p>

<p>This software comes with ABSOLUTELY NO WARRANTY. For details, see the enclosed file COPYING for license information (GPL). If you did not receive this file, see <a href="https://www.gnu.org/licenses/gpl-3.0.txt" class="podlinkurl"
>https://www.gnu.org/licenses/gpl-3.0.txt</a>.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
