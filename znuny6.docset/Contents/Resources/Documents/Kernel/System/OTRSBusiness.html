<html><head><title>Kernel::System::OTRSBusiness</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.28,
  using Pod::Simple::PullParser v3.28,
  under Perl v5.018004 at Tue Feb 16 20:51:23 2021 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#PUBLIC_INTERFACE'>PUBLIC INTERFACE</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new()'>new()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessIsInstalled()'>OTRSBusinessIsInstalled()</a>
    <li class='indexItem indexItem2'><a href='#OTRSSTORMIsInstalled()'>OTRSSTORMIsInstalled()</a>
    <li class='indexItem indexItem2'><a href='#OTRSCONTROLIsInstalled()'>OTRSCONTROLIsInstalled()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessIsAvailable()'>OTRSBusinessIsAvailable()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessIsAvailableOffline()'>OTRSBusinessIsAvailableOffline()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessIsCorrectlyDeployed()'>OTRSBusinessIsCorrectlyDeployed()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessIsReinstallable()'>OTRSBusinessIsReinstallable()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessIsUpdateable()'>OTRSBusinessIsUpdateable()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessVersionCheckOffline()'>OTRSBusinessVersionCheckOffline()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessGetDependencies()'>OTRSBusinessGetDependencies()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessEntitlementCheck()'>OTRSBusinessEntitlementCheck()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessEntitlementStatus()'>OTRSBusinessEntitlementStatus()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessContractExpiryDateCheck()'>OTRSBusinessContractExpiryDateCheck()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessInstall()'>OTRSBusinessInstall()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessReinstall()'>OTRSBusinessReinstall()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessUpdate()'>OTRSBusinessUpdate()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessUninstall()'>OTRSBusinessUninstall()</a>
    <li class='indexItem indexItem2'><a href='#OTRSBusinessCommandNextUpdateTimeSet()'>OTRSBusinessCommandNextUpdateTimeSet()</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#TERMS_AND_CONDITIONS'>TERMS AND CONDITIONS</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
><a name='//apple_ref/cpp/Class/NAME' class='dashAnchor'></a>NAME</a></h1>

<p>Kernel::System::OTRSBusiness - OTRSBusiness deployment backend</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PUBLIC_INTERFACE"
><a name='//apple_ref/cpp/Class/PUBLIC INTERFACE' class='dashAnchor'></a>PUBLIC INTERFACE</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new()"
><a name='//apple_ref/cpp/Function/new()' class='dashAnchor'></a>new()</a></h2>

<p>create an object.
Do not use it directly,
instead use:</p>

<pre>    use Kernel::System::ObjectManager;
    local $Kernel::OM = Kernel::System::ObjectManager-&#62;new();
    my $RegistrationObject = $Kernel::OM-&#62;Get(&#39;Kernel::System::OTRSBusiness&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessIsInstalled()"
><a name='//apple_ref/cpp/Function/OTRSBusinessIsInstalled()' class='dashAnchor'></a>OTRSBusinessIsInstalled()</a></h2>

<p>checks if OTRSBusiness is installed in the current system. That does not necessarily mean that it is also active, for example if the package is only on the database but not on the file system.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSSTORMIsInstalled()"
><a name='//apple_ref/cpp/Function/OTRSSTORMIsInstalled()' class='dashAnchor'></a>OTRSSTORMIsInstalled()</a></h2>

<p>checks if OTRSStorm is installed in the current system. That does not necessarily mean that it is also active, for example if the package is only on the database but not on the file system.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSCONTROLIsInstalled()"
><a name='//apple_ref/cpp/Function/OTRSCONTROLIsInstalled()' class='dashAnchor'></a>OTRSCONTROLIsInstalled()</a></h2>

<p>checks if OTRSControl is installed in the current system. That does not necessarily mean that it is also active, for example if the package is only on the database but not on the file system.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessIsAvailable()"
><a name='//apple_ref/cpp/Function/OTRSBusinessIsAvailable()' class='dashAnchor'></a>OTRSBusinessIsAvailable()</a></h2>

<p>checks with <code>cloud.otrs.com</code> if OTRSBusiness is available for the current framework.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessIsAvailableOffline()"
><a name='//apple_ref/cpp/Function/OTRSBusinessIsAvailableOffline()' class='dashAnchor'></a>OTRSBusinessIsAvailableOffline()</a></h2>

<p>retrieves the latest result of the BusinessVersionCheck cloud service that was stored in the system_data table.</p>

<p>returns 1 if available.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessIsCorrectlyDeployed()"
><a name='//apple_ref/cpp/Function/OTRSBusinessIsCorrectlyDeployed()' class='dashAnchor'></a>OTRSBusinessIsCorrectlyDeployed()</a></h2>

<p>checks if the OTRSBusiness package is correctly deployed or if it needs to be reinstalled.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessIsReinstallable()"
><a name='//apple_ref/cpp/Function/OTRSBusinessIsReinstallable()' class='dashAnchor'></a>OTRSBusinessIsReinstallable()</a></h2>

<p>checks if the OTRSBusiness package can be reinstalled (if it supports the current framework version). If not, an update might be needed.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessIsUpdateable()"
><a name='//apple_ref/cpp/Function/OTRSBusinessIsUpdateable()' class='dashAnchor'></a>OTRSBusinessIsUpdateable()</a></h2>

<p>checks with <code>cloud.otrs.com</code> if the OTRSBusiness package is available in a newer version than the one currently installed. The result of this check will be stored in the system_data table for offline usage.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessVersionCheckOffline()"
><a name='//apple_ref/cpp/Function/OTRSBusinessVersionCheckOffline()' class='dashAnchor'></a>OTRSBusinessVersionCheckOffline()</a></h2>

<p>retrieves the latest result of the BusinessVersionCheck cloud service that was stored in the system_data table.</p>

<pre>    my %Result = $OTRSBusinessObject-&#62;OTRSBusinessVersionCheckOffline();</pre>

<p>returns</p>

<pre>    $Result = (
        OTRSBusinessUpdateAvailable      =&#62; 1,  # if applicable
        FrameworkUpdateAvailable         =&#62; 1,  # if applicable
    );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessGetDependencies()"
><a name='//apple_ref/cpp/Function/OTRSBusinessGetDependencies()' class='dashAnchor'></a>OTRSBusinessGetDependencies()</a></h2>

<p>checks if there are any active dependencies on OTRSBusiness.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessEntitlementCheck()"
><a name='//apple_ref/cpp/Function/OTRSBusinessEntitlementCheck()' class='dashAnchor'></a>OTRSBusinessEntitlementCheck()</a></h2>

<p>determines the OTRSBusiness entitlement status of this system as reported by <code>cloud.otrs.com</code> and stores it in the system_data cache.</p>

<p>Returns 1 if the cloud call was successful.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessEntitlementStatus()"
><a name='//apple_ref/cpp/Function/OTRSBusinessEntitlementStatus()' class='dashAnchor'></a>OTRSBusinessEntitlementStatus()</a></h2>

<p>Returns the current entitlement status.</p>

<pre>    my $Status = $OTRSBusinessObject-&#62;OTRSBusinessEntitlementStatus(
        CallCloudService =&#62; 1,              # 0 or 1, call the cloud service before looking at the cache
    );

    $Status = &#39;entitled&#39;;      # everything is OK
    $Status = &#39;warning&#39;;       # last check was OK, and we are in the waiting period - show warning
    $Status = &#39;warning-error&#39;; # last check was OK, and we are past waiting period - show error message
    $Status = &#39;forbidden&#39;;     # not entitled (either because the server said so or because the last check was too long ago)</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessContractExpiryDateCheck()"
><a name='//apple_ref/cpp/Function/OTRSBusinessContractExpiryDateCheck()' class='dashAnchor'></a>OTRSBusinessContractExpiryDateCheck()</a></h2>

<p>checks for the warning period before the contract expires</p>

<pre>    my $ExpiryDate = $OTRSBusinessObject-&#62;OTRSBusinessContractExpiryDateCheck();</pre>

<p>returns the ExpiryDate if a warning should be displayed</p>

<pre>    $ExpiryDate = undef;                    # everything is OK, no warning
    $ExpiryDate = &#39;2012-12-12 12:12:12&#39;     # contract is about to expire, issue warning</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessInstall()"
><a name='//apple_ref/cpp/Function/OTRSBusinessInstall()' class='dashAnchor'></a>OTRSBusinessInstall()</a></h2>

<p>downloads and installs OTRSBusiness.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessReinstall()"
><a name='//apple_ref/cpp/Function/OTRSBusinessReinstall()' class='dashAnchor'></a>OTRSBusinessReinstall()</a></h2>

<p>re-installs OTRSBusiness from local repository.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessUpdate()"
><a name='//apple_ref/cpp/Function/OTRSBusinessUpdate()' class='dashAnchor'></a>OTRSBusinessUpdate()</a></h2>

<p>downloads and updates OTRSBusiness.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessUninstall()"
><a name='//apple_ref/cpp/Function/OTRSBusinessUninstall()' class='dashAnchor'></a>OTRSBusinessUninstall()</a></h2>

<p>removes OTRSBusiness from the system.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTRSBusinessCommandNextUpdateTimeSet()"
><a name='//apple_ref/cpp/Function/OTRSBusinessCommandNextUpdateTimeSet()' class='dashAnchor'></a>OTRSBusinessCommandNextUpdateTimeSet()</a></h2>

<p>Set the next update time for the given command in the system data table storage.</p>

<pre>    my $Success = $OTRSBusinessObject-&#62;OTRSBusinessCommandNextUpdateTimeSet(
        Command =&#62; &#39;AvailabilityCheck&#39;,
    );</pre>

<p>Returns 1 if the next update time was set successfully.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="TERMS_AND_CONDITIONS"
><a name='//apple_ref/cpp/Class/TERMS AND CONDITIONS' class='dashAnchor'></a>TERMS AND CONDITIONS</a></h1>

<p>This software is part of the OTRS project (<a href="https://otrs.org/" class="podlinkurl"
>https://otrs.org/</a>).</p>

<p>This software comes with ABSOLUTELY NO WARRANTY. For details, see the enclosed file COPYING for license information (GPL). If you did not receive this file, see <a href="https://www.gnu.org/licenses/gpl-3.0.txt" class="podlinkurl"
>https://www.gnu.org/licenses/gpl-3.0.txt</a>.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
