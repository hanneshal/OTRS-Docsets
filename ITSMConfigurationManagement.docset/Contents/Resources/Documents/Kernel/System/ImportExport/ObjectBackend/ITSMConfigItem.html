<html><head><title>Kernel::System::ImportExport::ObjectBackend::ITSMConfigItem</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.28,
  using Pod::Simple::PullParser v3.28,
  under Perl v5.018004 at Tue Feb 16 20:51:28 2021 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#PUBLIC_INTERFACE'>PUBLIC INTERFACE</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new()'>new()</a>
    <li class='indexItem indexItem2'><a href='#ObjectAttributesGet()'>ObjectAttributesGet()</a>
    <li class='indexItem indexItem2'><a href='#MappingObjectAttributesGet()'>MappingObjectAttributesGet()</a>
    <li class='indexItem indexItem2'><a href='#SearchAttributesGet()'>SearchAttributesGet()</a>
    <li class='indexItem indexItem2'><a href='#ExportDataGet()'>ExportDataGet()</a>
    <li class='indexItem indexItem2'><a href='#ImportDataSave()'>ImportDataSave()</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#INTERNAL_INTERFACE'>INTERNAL INTERFACE</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#_MappingObjectAttributesGet()'>_MappingObjectAttributesGet()</a>
    <li class='indexItem indexItem2'><a href='#_SearchAttributesGet()'>_SearchAttributesGet()</a>
    <li class='indexItem indexItem2'><a href='#_ExportXMLSearchDataPrepare()'>_ExportXMLSearchDataPrepare()</a>
    <li class='indexItem indexItem2'><a href='#_ExportXMLDataPrepare()'>_ExportXMLDataPrepare()</a>
    <li class='indexItem indexItem2'><a href='#_ImportXMLSearchDataPrepare()'>_ImportXMLSearchDataPrepare()</a>
    <li class='indexItem indexItem2'><a href='#_ImportXMLDataMerge()'>_ImportXMLDataMerge()</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#TERMS_AND_CONDITIONS'>TERMS AND CONDITIONS</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
><a name='//apple_ref/cpp/Class/NAME' class='dashAnchor'></a>NAME</a></h1>

<p>Kernel::System::ImportExport::ObjectBackend::ITSMConfigItem - import/export backend for ITSMConfigItem</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
><a name='//apple_ref/cpp/Class/DESCRIPTION' class='dashAnchor'></a>DESCRIPTION</a></h1>

<p>All functions to import and export ITSM config items.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PUBLIC_INTERFACE"
><a name='//apple_ref/cpp/Class/PUBLIC INTERFACE' class='dashAnchor'></a>PUBLIC INTERFACE</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new()"
><a name='//apple_ref/cpp/Function/new()' class='dashAnchor'></a>new()</a></h2>

<p>create an object</p>

<pre>    use Kernel::System::ObjectManager;
    local $Kernel::OM = Kernel::System::ObjectManager-&#62;new();
    my $BackendObject = $Kernel::OM-&#62;Get(&#39;Kernel::System::ImportExport::ObjectBackend::ITSMConfigItem&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ObjectAttributesGet()"
><a name='//apple_ref/cpp/Function/ObjectAttributesGet()' class='dashAnchor'></a>ObjectAttributesGet()</a></h2>

<p>get the object attributes of an object as a ref to an array of hash references</p>

<pre>    my $Attributes = $ObjectBackend-&#62;ObjectAttributesGet(
        UserID =&#62; 1,
    );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="MappingObjectAttributesGet()"
><a name='//apple_ref/cpp/Function/MappingObjectAttributesGet()' class='dashAnchor'></a>MappingObjectAttributesGet()</a></h2>

<p>get the mapping attributes of an object as array/hash reference</p>

<pre>    my $Attributes = $ObjectBackend-&#62;MappingObjectAttributesGet(
        TemplateID =&#62; 123,
        UserID     =&#62; 1,
    );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="SearchAttributesGet()"
><a name='//apple_ref/cpp/Function/SearchAttributesGet()' class='dashAnchor'></a>SearchAttributesGet()</a></h2>

<p>get the search object attributes of an object as array/hash reference</p>

<pre>    my $AttributeList = $ObjectBackend-&#62;SearchAttributesGet(
        TemplateID =&#62; 123,
        UserID     =&#62; 1,
    );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ExportDataGet()"
><a name='//apple_ref/cpp/Function/ExportDataGet()' class='dashAnchor'></a>ExportDataGet()</a></h2>

<p>get export data as <code>2D-array-hash</code> reference</p>

<pre>    my $ExportData = $ObjectBackend-&#62;ExportDataGet(
        TemplateID =&#62; 123,
        UserID     =&#62; 1,
    );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ImportDataSave()"
><a name='//apple_ref/cpp/Function/ImportDataSave()' class='dashAnchor'></a>ImportDataSave()</a></h2>

<p>imports a single entity of the import data. The <code>TemplateID</code> points to the definition of the current import. <code>ImportDataRow</code> holds the data. <code>Counter</code> is only used in error messages, for indicating which item was not imported successfully.</p>

<p>The current version of the config item will never be deleted. When there are no changes in the data, the import will be skipped. When there is new or changed data, then a new config item or a new version is created.</p>

<p>In the case of changed data, the new version of the config item will contain the attributes of the <code>ImportDataRow</code> plus the old attributes that are not part of the import definition. Thus ImportDataSave() guarantees to not overwrite undeclared attributes.</p>

<p>The behavior when imported attributes are empty depends on the setting in the object data. When <code>EmptyFieldsLeaveTheOldValues</code> is not set, then empty values will wipe out the old data. This is the default behavior. When <code>EmptyFieldsLeaveTheOldValues</code> is set, then empty values will leave the old values.</p>

<p>The decision what constitute an empty value is a bit hairy. Here are the rules. Fields that are not even mentioned in the Import definition are empty. These are the &#39;not defined&#39; fields. Empty strings and undefined values constitute empty fields. Fields with with only one or more whitespace characters are not empty. Fields with the digit &#39;0&#39; are not empty.</p>

<pre>    my ( $ConfigItemID, $RetCode ) = $ObjectBackend-&#62;ImportDataSave(
        TemplateID    =&#62; 123,
        ImportDataRow =&#62; $ArrayRef,
        Counter       =&#62; 367,
        UserID        =&#62; 1,
    );</pre>

<p>An empty <code>ConfigItemID</code> indicates failure. Otherwise it indicates the location of the imported data. <code>RetCode</code> is either &#39;Created&#39;, &#39;Updated&#39; or &#39;Skipped&#39;. &#39;Created&#39; means that a new config item has been created. &#39;Updated&#39; means that a new version has been added to an existing config item. &#39;Skipped&#39; means that no new version has been created, as the new data is identical to the latest version of an existing config item.</p>

<p>No codes have yet been defined for the failure case.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="INTERNAL_INTERFACE"
><a name='//apple_ref/cpp/Class/INTERNAL INTERFACE' class='dashAnchor'></a>INTERNAL INTERFACE</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_MappingObjectAttributesGet()"
><a name='//apple_ref/cpp/Function/_MappingObjectAttributesGet()' class='dashAnchor'></a>_MappingObjectAttributesGet()</a></h2>

<p>recursion function for MappingObjectAttributesGet(). Definitions for object attributes are passed in <code>XMLDefinition</code>. The new object attributes are appended to <code>ElementList</code>. <code>CountMaxLimit</code> limits the max length of importable arrays.</p>

<pre>    $ObjectBackend-&#62;_MappingObjectAttributesGet(
        XMLDefinition =&#62; $ArrayRef,
        ElementList   =&#62; $ArrayRef,
        CountMaxLimit =&#62; 10,
    );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_SearchAttributesGet()"
><a name='//apple_ref/cpp/Function/_SearchAttributesGet()' class='dashAnchor'></a>_SearchAttributesGet()</a></h2>

<p>recursion function for MappingObjectAttributesGet()</p>

<pre>    $ObjectBackend-&#62;_SearchAttributesGet(
        XMLDefinition =&#62; $ArrayRef,
        AttributeList =&#62; $ArrayRef,
    );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_ExportXMLSearchDataPrepare()"
><a name='//apple_ref/cpp/Function/_ExportXMLSearchDataPrepare()' class='dashAnchor'></a>_ExportXMLSearchDataPrepare()</a></h2>

<p>recursion function to prepare the export XML search params</p>

<pre>    $ObjectBackend-&#62;_ExportXMLSearchDataPrepare(
        XMLDefinition =&#62; $ArrayRef,
        What          =&#62; $ArrayRef,
        SearchData    =&#62; $HashRef,
    );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_ExportXMLDataPrepare()"
><a name='//apple_ref/cpp/Function/_ExportXMLDataPrepare()' class='dashAnchor'></a>_ExportXMLDataPrepare()</a></h2>

<p>recursion function to prepare the export XML data</p>

<pre>    $ObjectBackend-&#62;_ExportXMLDataPrepare(
        XMLDefinition =&#62; $ArrayRef,
        XMLData       =&#62; $HashRef,
        XMLData2D     =&#62; $HashRef,
    );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_ImportXMLSearchDataPrepare()"
><a name='//apple_ref/cpp/Function/_ImportXMLSearchDataPrepare()' class='dashAnchor'></a>_ImportXMLSearchDataPrepare()</a></h2>

<p>recursion function to prepare the import XML search params</p>

<pre>    $ObjectBackend-&#62;_ImportXMLSearchDataPrepare(
        XMLDefinition =&#62; $ArrayRef,
        What          =&#62; $ArrayRef,
        Identifier    =&#62; $HashRef,
    );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_ImportXMLDataMerge()"
><a name='//apple_ref/cpp/Function/_ImportXMLDataMerge()' class='dashAnchor'></a>_ImportXMLDataMerge()</a></h2>

<p>recursive function to inplace edit the import XML data.</p>

<pre>    my $MergeOk = $ObjectBackend-&#62;_ImportXMLDataMerge(
        XMLDefinition =&#62; $ArrayRef,
        XMLDataPrev   =&#62; $HashRef,
        XMLData2D     =&#62; $HashRef,
    );</pre>

<p>The return value indicates whether the merge was successful. A merge fails when for example a general catalog item name can&#39;t be mapped to an id.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="TERMS_AND_CONDITIONS"
><a name='//apple_ref/cpp/Class/TERMS AND CONDITIONS' class='dashAnchor'></a>TERMS AND CONDITIONS</a></h1>

<p>This software is part of the OTRS project (<a href="https://otrs.org/" class="podlinkurl"
>https://otrs.org/</a>).</p>

<p>This software comes with ABSOLUTELY NO WARRANTY. For details, see the enclosed file COPYING for license information (GPL). If you did not receive this file, see <a href="https://www.gnu.org/licenses/gpl-3.0.txt" class="podlinkurl"
>https://www.gnu.org/licenses/gpl-3.0.txt</a>.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
